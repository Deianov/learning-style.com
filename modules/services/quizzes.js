import {notify, Quiz, APP_IS_STATIC, factory} from './../app.js';
const MSG_QUIZ_SERVER_REQUIRED="Server validation is not supported on static version.",MSG_QUIZ_NOT_FOUND_ANSWERS="Not found correct answers.";class Quizzes{static json;static quiz;constructor(t){Quizzes.quiz=factory.getInstanceWithArgs(Quiz,t)}async render(t){!t.correct&&APP_IS_STATIC&&notify.alert("error",MSG_QUIZ_SERVER_REQUIRED),Quizzes.json=t,(await Quizzes.quiz).render(t,Quizzes.validate)}static async validate(){const t=await Quizzes.quiz;if(t.isValidated)return void t.reset();const r=Quizzes.json?.correct,e="1"===Quizzes.json.props.certification;if((!r||e)&&APP_IS_STATIC,!r)return void notify.alert("error",MSG_QUIZ_NOT_FOUND_ANSWERS);const i=t.validate(r);i.correct>0&&i.correct/i.from>.7&&notify.alert("info",`Bravo! ${i.correct/i.from*100}%`)}}export default Quizzes;